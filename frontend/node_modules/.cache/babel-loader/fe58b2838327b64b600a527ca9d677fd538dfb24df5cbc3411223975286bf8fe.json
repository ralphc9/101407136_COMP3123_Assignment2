{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\cnlsr\\\\101407136_COMP3123_Assignment2\\\\frontend\\\\src\\\\components\\\\EditEmployee.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport axios from '../services/api'; // Import Axios instance\nimport { useParams, useNavigate } from 'react-router-dom'; // For handling route params and redirection\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst EditEmployee = () => {\n  _s();\n  const {\n    id\n  } = useParams(); // Get the employee ID from the URL\n  const history = useNavigate(); // To redirect after the update\n  const [firstName, setFirstName] = useState('');\n  const [lastName, setLastName] = useState('');\n  const [position, setPosition] = useState('');\n  const [department, setDepartment] = useState('');\n  const [error, setError] = useState('');\n\n  // Fetch the employee data when the component loads\n  useEffect(() => {\n    const fetchEmployee = async () => {\n      try {\n        const response = await axios.get(`/emp/employees/${id}`);\n        const {\n          first_name,\n          last_name,\n          position,\n          department\n        } = response.data;\n        setFirstName(first_name);\n        setLastName(last_name);\n        setPosition(position);\n        setDepartment(department);\n      } catch (err) {\n        setError('Error fetching employee data.');\n      }\n    };\n    fetchEmployee();\n  }, [id]);\n  const handleEditEmployee = async e => {\n    e.preventDefault();\n    try {\n      await axios.put(`/emp/employees/${id}`, {\n        first_name: firstName,\n        last_name: lastName,\n        position,\n        department\n      });\n      alert('Employee updated successfully!');\n      history.push('/employees'); // Redirect to the employee list after successful update\n    } catch (err) {\n      setError('Error updating employee.');\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Edit Employee\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }, this), error && /*#__PURE__*/_jsxDEV(\"p\", {\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleEditEmployee,\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        placeholder: \"First Name\",\n        value: firstName,\n        onChange: e => setFirstName(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        placeholder: \"Last Name\",\n        value: lastName,\n        onChange: e => setLastName(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        placeholder: \"Position\",\n        value: position,\n        onChange: e => setPosition(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        placeholder: \"Department\",\n        value: department,\n        onChange: e => setDepartment(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        children: \"Update Employee\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 50,\n    columnNumber: 5\n  }, this);\n};\n_s(EditEmployee, \"oItCs2dpsRex4lSFPYbljb2r2+0=\", false, function () {\n  return [useParams, useNavigate];\n});\n_c = EditEmployee;\nexport default EditEmployee;\nvar _c;\n$RefreshReg$(_c, \"EditEmployee\");","map":{"version":3,"names":["React","useState","useEffect","axios","useParams","useNavigate","jsxDEV","_jsxDEV","EditEmployee","_s","id","history","firstName","setFirstName","lastName","setLastName","position","setPosition","department","setDepartment","error","setError","fetchEmployee","response","get","first_name","last_name","data","err","handleEditEmployee","e","preventDefault","put","alert","push","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","type","placeholder","value","onChange","target","_c","$RefreshReg$"],"sources":["C:/Users/cnlsr/101407136_COMP3123_Assignment2/frontend/src/components/EditEmployee.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport axios from '../services/api'; // Import Axios instance\r\nimport { useParams, useNavigate } from 'react-router-dom'; // For handling route params and redirection\r\n\r\nconst EditEmployee = () => {\r\n  const { id } = useParams(); // Get the employee ID from the URL\r\n  const history = useNavigate(); // To redirect after the update\r\n  const [firstName, setFirstName] = useState('');\r\n  const [lastName, setLastName] = useState('');\r\n  const [position, setPosition] = useState('');\r\n  const [department, setDepartment] = useState('');\r\n  const [error, setError] = useState('');\r\n\r\n  // Fetch the employee data when the component loads\r\n  useEffect(() => {\r\n    const fetchEmployee = async () => {\r\n      try {\r\n        const response = await axios.get(`/emp/employees/${id}`);\r\n        const { first_name, last_name, position, department } = response.data;\r\n        setFirstName(first_name);\r\n        setLastName(last_name);\r\n        setPosition(position);\r\n        setDepartment(department);\r\n      } catch (err) {\r\n        setError('Error fetching employee data.');\r\n      }\r\n    };\r\n\r\n    fetchEmployee();\r\n  }, [id]);\r\n\r\n  const handleEditEmployee = async (e) => {\r\n    e.preventDefault();\r\n\r\n    try {\r\n      await axios.put(`/emp/employees/${id}`, {\r\n        first_name: firstName,\r\n        last_name: lastName,\r\n        position,\r\n        department\r\n      });\r\n      alert('Employee updated successfully!');\r\n      history.push('/employees'); // Redirect to the employee list after successful update\r\n    } catch (err) {\r\n      setError('Error updating employee.');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <h2>Edit Employee</h2>\r\n      {error && <p>{error}</p>}\r\n      <form onSubmit={handleEditEmployee}>\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"First Name\"\r\n          value={firstName}\r\n          onChange={(e) => setFirstName(e.target.value)}\r\n        />\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"Last Name\"\r\n          value={lastName}\r\n          onChange={(e) => setLastName(e.target.value)}\r\n        />\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"Position\"\r\n          value={position}\r\n          onChange={(e) => setPosition(e.target.value)}\r\n        />\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"Department\"\r\n          value={department}\r\n          onChange={(e) => setDepartment(e.target.value)}\r\n        />\r\n        <button type=\"submit\">Update Employee</button>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default EditEmployee;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}